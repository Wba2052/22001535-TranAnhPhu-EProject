# ğŸ§© EProject â€“ Microservices System

## ğŸ“Œ Tá»•ng quan

Dá»± Ã¡n mÃ´ phá»ng **há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­** sá»­ dá»¥ng **kiáº¿n trÃºc Microservices**, bao gá»“m 3 dá»‹ch vá»¥ chÃ­nh vÃ  má»™t API Gateway:

- **Auth Service:** Quáº£n lÃ½ Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p vÃ  xÃ¡c thá»±c ngÆ°á»i dÃ¹ng.
- **Product Service:** Quáº£n lÃ½ sáº£n pháº©m, há»— trá»£ táº¡o Ä‘Æ¡n hÃ ng.
- **Order Service:** Tiáº¿p nháº­n Ä‘Æ¡n hÃ ng thÃ´ng qua RabbitMQ vÃ  xá»­ lÃ½ hoÃ n táº¥t.
- **API Gateway:** LÃ  trung gian tiáº¿p nháº­n, Ä‘á»‹nh tuyáº¿n vÃ  Ä‘iá»u phá»‘i cÃ¡c request giá»¯a cÃ¡c service.

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

- **Node.js / Express** â€“ Ná»n táº£ng backend chÃ­nh
- **MongoDB / Mongoose** â€“ Quáº£n lÃ½ vÃ  lÆ°u trá»¯ dá»¯ liá»‡u
- **RabbitMQ (Message Queue)** â€“ Giao tiáº¿p báº¥t Ä‘á»“ng bá»™ giá»¯a cÃ¡c service
- **JWT (JSON Web Token)** â€“ XÃ¡c thá»±c ngÆ°á»i dÃ¹ng
- **Postman** â€“ Kiá»ƒm thá»­ API
- **Visual Studio Code** â€“ MÃ´i trÆ°á»ng phÃ¡t triá»ƒn

---

## ğŸ§­ Kiáº¿n trÃºc há»‡ thá»‘ng

```bash

[Client]
â†“
[API Gateway]
â”œâ”€â”€ Auth Service
â”œâ”€â”€ Product Service
â””â”€â”€ Order Service
â†‘
[RabbitMQ]
```

---

## ğŸ—‚ï¸ Cáº¥u trÃºc thÆ° má»¥c\*\*

```bash
.
â”œâ”€â”€ api-gateway/         # API Gateway
â”œâ”€â”€ auth/                # Authentication Service
â”œâ”€â”€ order/               # Order Service
â”œâ”€â”€ product/             # Product Service
â”œâ”€â”€ .env                 # File mÃ´i trÆ°á»ng chÃ­nh (RabbitMQ)
â”œâ”€â”€ .gitignore           # Bá» qua cÃ¡c file khÃ´ng cáº§n commit
â”œâ”€â”€ docker-compose.yml   # Äá»‹nh nghÄ©a & káº¿t ná»‘i cÃ¡c container
â””â”€â”€ README.md            # TÃ i liá»‡u mÃ´ táº£ dá»± Ã¡n
```

---

## ğŸ§± CÃ i Ä‘áº·t vÃ  khá»Ÿi cháº¡y dá»± Ã¡n

### ğŸ§¾ YÃªu cáº§u há»‡ thá»‘ng

- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)
- [Git](https://git-scm.com/)

---

### ğŸ“ BÆ°á»›c 2: Táº¡o cÃ¡c file mÃ´i trÆ°á»ng `.env`

Dá»± Ã¡n sá»­ dá»¥ng nhiá»u file `.env` Ä‘á»ƒ lÆ°u biáº¿n mÃ´i trÆ°á»ng. Táº¡o theo hÆ°á»›ng dáº«n sau:

#### ğŸ“ `.env` táº¡i thÆ° má»¥c gá»‘c

```bash
RABBITMQ_USER=myuser
RABBITMQ_PASS=mypassword
```

### ğŸ³ **BÆ°á»›c 3: Khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng báº±ng Docker Compose**

```bash
docker compose up --build -d
```

### ğŸ§­ **BÆ°á»›c 4: Kiá»ƒm tra tráº¡ng thÃ¡i container**

```bash
docker compose ps
```

**Káº¿t quáº£ mong Ä‘á»£i:**

- Khoáº£ng 8 container á»Ÿ tráº¡ng thÃ¡i Up gá»“m:

* 3 service chÃ­nh
* 3 MongoDB
* 1 RabbitMQ
* 1 API Gateway

## ğŸŒ 5. Sá»­ dá»¥ng & kiá»ƒm thá»­ API

### ğŸ“ API Gateway

Táº¥t cáº£ cÃ¡c request Ä‘á»u Ä‘Æ°á»£c gá»­i thÃ´ng qua API Gateway táº¡i Ä‘á»‹a chá»‰:

```
http://localhost:3003
```

---

### ğŸ“Š Danh sÃ¡ch Endpoint

| **Chá»©c nÄƒng**      | **Method** | **Endpoint**   | **XÃ¡c thá»±c**      |
| ------------------ | ---------- | -------------- | ----------------- |
| **Authentication** | POST       | /auth/register | âŒ                |
|                    | POST       | /auth/login    | âŒ                |
| **Products**       | GET        | /products      | âœ… (Bearer Token) |
|                    | POST       | /products      | âœ…                |
| **Orders**         | POST       | /orders        | âœ…                |
|                    | GET        | /orders        | âœ…                |

---

### ğŸ§ª BÆ°á»›c 5: Kiá»ƒm thá»­ báº±ng Postman

1. Má»Ÿ **Postman**.
2. Gá»­i request:

   ```http
   POST http://localhost:3003/auth/register
   ```

   â†’ **ÄÄƒng kÃ½ tÃ i khoáº£n má»›i**

   3. Gá»­i request:

   ```http
   POST http://localhost:3003/auth/register
   ```

   â†’ **ÄÄƒng nháº­p vÃ  nháº­n JWT Token**

3. DÃ¹ng **JWT Token** Ä‘á»ƒ gá»i cÃ¡c API cÃ³ báº£o máº­t (vÃ­ dá»¥: `/products`, `/orders`).

> ğŸ’¡ **LÆ°u Ã½:TrÆ°á»›c khi kiá»ƒm thá»­, hÃ£y Ä‘áº£m báº£o RabbitMQ vÃ  MongoDB Ä‘Ã£ cháº¡y á»•n Ä‘á»‹nh.**.

## HÃŒNH áº¢NH KIá»‚M THá»¬

## Ä‘Äƒng kÃ­ tÃ i khoáº£n:

![Register](./public/regiter.png)

## Ä‘Äƒng nháº­p:

![Login](./public//login.png)

## nháº­n token Ä‘Äƒng nháº­p:

![Token](./public//login.png)

## xem thÃ´ng tin ngÆ°á»i dÃ¹ng:

![User Info](./public//dashboard.png)

## táº¡o sáº£n pháº©m:

![POST Create Product](./public//products.png)

## xem danh sÃ¡ch sáº£n pháº©m:

![View Product](./public//list-products.png)

## mua sáº£n pháº©m:

![Buy Product](./public/order-1.png)
